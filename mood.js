document.addEventListener('DOMContentLoaded',function(){var e=document.querySelectorAll('.play-button'),t=new Audio,a=document.getElementById('volume-bar'),n=document.getElementById('previous-btn'),o=document.getElementById('next-btn'),l=document.getElementById('play-pause-btn'),c=document.getElementById('progress-bar'),s=!1,r=localStorage.getItem('currentSongIndex')||0,i=localStorage.getItem('playbackPosition')||0,h=!1,d=document.getElementById('video-background');function u(e,t){void 0===t&&(t=0),console.log('this works'),t&&(e.currentTime=t),e.play(),s=!0,l.textContent='Pause',p()}function p(){var e=document.querySelectorAll('#song-list li');e.forEach(function(e,t){e.classList.remove('playing');var a=e.querySelector('.song-title');t===r&&(e.classList.add('playing'),a&&a.classList.add('highlighted'),a&&(a.innerHTML=a.textContent.replace('<i class="fa-solid fa-chart-simple"></i>','<i class="fa-solid fa-music"></i>')))})}function m(){t.pause(),s=!1,l.textContent='Play',i=t.currentTime,localStorage.setItem('playbackPosition',i)}function f(){s?m():h&&t.src?u(t,t.currentTime):(i>0&&t.src?u(t,t.currentTime):playRandomSong(),h=!0)}function g(){r=Math.floor(Math.random()*e.length);var t=e[r].parentElement.getAttribute('data-src');u(t)}function v(){var e=e=>{s&&r===e?m():r=e,u()}e.forEach(function(e,t){e.addEventListener('click',function(){e=>{s&&r===e?m():(r=e,u())}(t)})})}function w(){r++,r>=e.length&&(r=0);var t=e[r].parentElement.getAttribute('data-src');i=0,u(t),document.getElementById('skip-message').textContent='Skipped to next song: '+e[r].textContent}function b(){r--,r<0&&(r=e.length-1);var t=e[r].parentElement.getAttribute('data-src');i=0,u(t),document.getElementById('skip-message').textContent='Skipped to previous song: '+e[r].textContent}l.addEventListener('click',function(){f()}),v(),n.addEventListener('click',function(){b()}),o.addEventListener('click',function(){w()}),t.addEventListener('ended',function(){w()}),a.addEventListener('input',function(){var e=parseInt(a.value);t.volume=e/100}),t.addEventListener('timeupdate',function(){var e=t.currentTime/t.duration*100;c.querySelector('.progress').style.width=e+'%'}),c.addEventListener('click',function(e){var t=this.getBoundingClientRect(),a=e.clientX-t.left,n=this.offsetWidth,o=a/n*t.duration;t.currentTime=o}),c.addEventListener('mousedown',function(e){var t=this.getBoundingClientRect(),a=e.clientX-t.left,n=this.offsetWidth;function o(e){var n=e.clientX-t.left,o=Math.max(0,Math.min(n,n));t.currentTime=o,this.querySelector('.progress').style.width=o/n*100+'%'}function l(){document.removeEventListener('mousemove',o),document.removeEventListener('mouseup',l)}document.addEventListener('mousemove',o),document.addEventListener('mouseup',l)}),c.addEventListener('touchstart',function(e){var t=e.touches[0],a=this.getBoundingClientRect(),n=t.clientX-a.left,o=this.offsetWidth,l=n/o*t.duration;function c(e){var t=e.touches[0],n=t.clientX-a.left,o=Math.max(0,Math.min(n,o)),l=o/o*t.duration;a.currentTime=l,this.querySelector('.progress').style.width=o/o*100+'%'}function s(){document.removeEventListener('touchmove',c),document.removeEventListener('touchend',s)}document.addEventListener('touchmove',c),document.addEventListener('touchend',s)}),c.addEventListener('touchmove',function(e){e.preventDefault()}),window.addEventListener('beforeunload',function(){localStorage.setItem('currentSongIndex',r),localStorage.setItem('playbackPosition',i)}),t.addEventListener('ended',function(){pauseVideo()});function pauseVideo(){d.pause(),d.currentTime=0}function p(){var e=document.querySelectorAll('#song-list li');e.forEach(function(e,t){e.classList.remove('playing');var a=e.querySelector('.song-title');t===r&&(e.classList.add('playing'),a&&a.classList.add('highlighted'),a&&(a.innerHTML=a.textContent.replace('<i class="fa-solid fa-chart-simple"></i>','<i class="fa-solid fa-music"></i>')))})}document.getElementById('donate-link').addEventListener('click',function(e){e.preventDefault(),document.getElementById('popup-container').style.display='block'}),document.getElementById('popup-container').addEventListener('click',function(){this.style.display='none'})});function toggleDropdown(){var e=document.getElementById("myDropdown");e.classList.toggle("show")}function displayText(e){var t=document.getElementsByClassName("section");for(var a=0;a<t.length;a++)t[a].style.display="none";document.getElementById(e).style.display="block"}
